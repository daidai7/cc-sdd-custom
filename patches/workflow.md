# Development Workflow

## Session Continuation

セッション間でのコンテキスト継続の仕組み。

### ファイル構成

```
.kiro/context/
  session-YYYY-MM-DD.md   # 日付付きセッションログ
```

### セッションログの内容

- 本日の進捗（完了したタスク、実装内容）
- 重要な設計判断（なぜその選択をしたか）
- 現在のステータス（Phase進捗、テスト状況）
- 次のアクション（具体的な次のステップ）
- 未解決事項（ブロッカー、要確認事項）

### 使い方

1. 新しいセッション開始時: `.kiro/context/` 内の最新ログを読み込む
2. セッション終了時: 進捗をログに追記してコミット

---

## Magic Commands (合い言葉コマンド)

### 「コンテキストを更新して」

以下の手順を実行:

1. **日付確認（必須）**: `date '+%Y-%m-%d'` を実行して現在の日付を確認
   - 既存のセッションログと日付が異なる場合は**新規ファイルを作成**
   - 同じ日付のログが存在する場合は**追記**
   - ファイル名は必ず `session-YYYY-MM-DD.md` 形式（現在日付を使用）
2. **会話サマリー生成**: 今回のセッションで行った内容をサマリー化
   - 解決した課題・実装した機能
   - 重要な設計判断とその理由
   - 発見した問題とワークアラウンド
   - 変更したファイル一覧
3. **セッションログ更新**: `.kiro/context/session-YYYY-MM-DD.md` に本日の進捗を追記（なければ作成）
   - 新規作成時: テンプレートから新規ファイル作成
   - 追記時: 会話サマリーを「### セッションN: [トピック]」形式で追記
   - 複数トピックがあれば複数セクションに分ける
4. **specs更新**: 該当する場合、以下を更新
   - `requirements.md`: 新規要件や変更があれば追記
   - `design.md`: 設計変更があれば追記
   - `tasks.md`: 完了タスクにチェック、新規タスク追加
5. **steering更新**: `.kiro/steering/` の各ファイルに変更があれば更新
6. **コミット・プッシュ**: 変更をコミットしてリモートにプッシュ

```bash
# コミットメッセージ例
docs: コンテキスト更新 (YYYY-MM-DD)
```

### 「これまでの経緯を読み込んで」

以下の手順を実行:

1. `.kiro/context/` 内の最新セッションログを読み込む
2. これまでの経緯・設計判断・次のアクションを把握する
3. 必要に応じて関連する specs や steering も確認する

---

## Auto-Compact対策（定期保存ルール）

長いセッションではauto-compactによりコンテキストが失われる可能性がある。
以下のタイミングで積極的にコンテキスト保存を提案する:

**自動提案トリガー**:
- 重要なマイルストーン達成時（テスト通過、機能完成、バグ修正完了）
- 複数の課題を解決した後
- 設計上の重要な決定を行った後
- ユーザーが「一旦ここまで」「ありがとう」などセッション区切りを示唆した時

**提案フレーズ例**:
> ここまでの進捗をコンテキストに保存しますか？（「コンテキストを更新して」で実行）

**AIの行動指針**:
- 長いセッションでは定期的に保存を意識する
- 重要な情報が失われる前に保存を促す
- ユーザーが忙しそうなら控えめに提案する

---

## Output Language

**リポジトリへの出力は全て日本語で行う**:
- プルリクエストのタイトル・本文
- コミットメッセージ
- ドキュメント（README.md、CHANGELOG.md等）
- コードコメント（重要なロジック説明）
- Issue作成時のタイトル・本文

※例外: コード内の変数名・関数名・型名は英語のまま

---
_Focus on consistent workflow patterns across sessions_
